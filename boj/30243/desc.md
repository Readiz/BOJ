# 30243번 - 🧩 N-Queen (Hard)


============================

5 초

512 MB

68

12

8

19.048%

문제
--

N-Queen 문제는 크기가 $N \\times N$인 체스판 위에 퀸 $N$개를 서로 공격할 수 없게 놓는 문제이다.

$N$이 주어졌을 때, 퀸을 놓는 방법 한 가지를 출력하는 것은 [쉽다](/problem/21133).

이 문제에서는 몇 개의 퀸이 이미 놓여있을 때, 퀸을 놓는 방법 한 가지를 출력해 보자.

입력
--

첫 번째 줄에 정수 $N$이 주어진다. $(1 \\le N \\le 30)$

두 번째 줄에 정수 $Q\_1$, $Q\_2$, $Q\_3$, $\\cdots$, $Q\_N$이 주어진다. $Q\_i$는 $i$번째 행에 있는 퀸의 열의 번호를 의미한다. $(0 \\le Q\_i \\le N)$

만약 $Q\_i$가 `0`이라면 $i$번째 행에는 퀸이 놓여있지 않다는 뜻이다.

퀸이 서로 공격하는 올바르지 않은 상태의 입력 혹은 $N$개의 퀸이 모두 놓여있는 경우의 입력은 없다.

출력
--

첫 번째 줄에 정수 $A\_1$, $A\_2$, $A\_3$, $\\cdots$, $A\_N$를 출력한다. $A\_i$는 $i$번째 행에 있는 퀸의 열의 번호를 의미한다. $(1 \\le A\_i \\le N)$

만약 $N$개의 퀸을 놓을 수 없다면 `-1`을 출력한다.

제한
--

예제 입력 1
-------

3
0 0 0

예제 출력 1
-------

\-1

예제 입력 2
-------

4
0 0 0 0

예제 출력 2
-------

2 4 1 3

예제 입력 3
-------

4
3 0 0 0

예제 출력 3
-------

3 1 4 2

예제 입력 4
-------

4
0 0 0 1

예제 출력 4
-------

\-1

예제 입력 5
-------

10
3 0 0 0 0 0 0 0 0 0

예제 출력 5
-------

3 1 6 9 5 10 8 4 2 7

예제 입력 6
-------

19
0 0 2 0 0 0 0 0 0 0 0 7 0 0 0 0 0 0 10

예제 출력 6
-------

1 5 2 6 17 12 8 19 14 18 15 7 3 11 9 4 13 16 10

힌트
--

출처
--

*   문제를 검수한 사람: [hjroh0315](/user/hjroh0315), [kiwiyou](/user/kiwiyou), [mingyu331](/user/mingyu331), [ufshg](/user/ufshg), [utilforever](/user/utilforever), [wider93](/user/wider93)
*   문제를 만든 사람: [wapas](/user/wapas)